import{ref as t,watch as e,unref as n,reactive as r}from"vue";const o="undefined"!=typeof window,u=o?window:void 0;function a({window:e=u}={}){const n=t=>{const{state:n,length:r}=(null==e?void 0:e.history)||{},{hash:o,host:u,hostname:a,href:s,origin:i,pathname:l,port:c,protocol:f,search:h}=(null==e?void 0:e.location)||{};return{trigger:t,state:n,length:r,hash:o,host:u,hostname:a,href:s,origin:i,pathname:l,port:c,protocol:f,search:h}},r=t(n("load"));return e&&(e.addEventListener("popstate",()=>r.value=n("popstate")),e.addEventListener("hashchange",()=>r.value=n("hashchange"))),r}function s(e,n=1e3,r={}){const{immediate:u=!0,immediateCallback:a=!1}=r;let s=null;const i=t(!1);function l(){s&&(clearInterval(s),s=null)}function c(){n<=0||(i.value=!0,a&&e(),l(),s=setInterval(e,n))}return u&&o&&c(),{isActive:i,pause:function(){i.value=!1,l()},resume:c}}function i(e=0){const n=t(e),r=t=>n.value=t;return{count:n,inc:(t=1)=>n.value+=t,dec:(t=1)=>n.value-=t,get:()=>n.value,set:r,reset:(t=e)=>(e=t,r(t))}}function l(t,e=200){let n=null;return function(...r){n&&clearTimeout(n),n=setTimeout(()=>{t.apply(this,r)},e)}}function c(n,r=200){if(r<=0)return n;const o=t(n.value),u=l(()=>{o.value=n.value},r);return e(n,()=>{u()}),o}function f(t,e){return e?n(t)[e]:n(t)}function h(...t){if(2===t.length){const[e,n]=t;e.value=n}if(3===t.length){const[e,n,r]=t;e[n]=r}}function p(t,e=200){let n=!1;return function(...r){n||(n=!0,setTimeout(()=>{t.apply(this,r),n=!1},e))}}function v(n,r=200){if(r<=0)return n;const o=t(n.value),u=p(()=>{o.value=n.value},r);return e(n,()=>u()),o}function d(){return(d=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}const g={data:null,error:null,status:"idle"};function m(t){const e=r(d({},g,t)),n=t=>{e.data=t,e.error=null,e.status="success"},o=t=>{e.error=t,e.data=null,e.status="error"};return{execute:t=>{if(!t||!t.then)throw new Error("payload must be Promise type");return h(e,"status","loading"),t.then(t=>(n(t),t)).catch(t=>(o(t),t))},setData:n,setError:o,state:e}}function w(){const t=[],e=e=>{const n=t.indexOf(e);-1!==n&&t.splice(n,1)};return{on:n=>(t.push(n),{off:()=>{e(n)}}),off:e,trigger:e=>{t.forEach(t=>t(e))}}}export{g as DefaultAsyncState,m as useAsync,a as useBrowserLocation,i as useCounter,w as useCreateEventHook,c as useDebounce,l as useDebounceFn,f as useGetRefValue,s as useIntervalFn,h as useSetRefValue,v as useThrottle,p as useThrottleFn};
//# sourceMappingURL=index.modern.js.map
